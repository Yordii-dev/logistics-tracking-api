generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model UserRole {
  id   String @id @default(uuid())
  name String @unique(map: "name") @db.VarChar(150)

  status     Boolean  @default(true)
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @updatedAt

  users User[]

  @@map("user_roles")
}

model User {
  id           String @id @default(uuid())
  name         String
  email        String @unique
  passwordHash String
  role_id      String

  status    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  role UserRole @relation(fields: [role_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "user_role_id")

  @@map("users")
}

model PackageStatus {
  id   String @id @default(uuid())
  name String @unique(map: "name") @db.VarChar(150)

  status     Boolean  @default(true)
  created_at DateTime @default(now()) @db.Timestamp(0)
  updated_at DateTime @updatedAt

  packages Package[]

  @@map("package_statuses")
}

model Package {
  id                String @id @default(uuid())
  ownerId           String
  origin            String
  destination       String
  package_status_id String

  status    Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  package_status PackageStatus @relation(fields: [package_status_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "package_status_id")

  @@map("packages")
}
